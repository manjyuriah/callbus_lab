{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Documents\\\\GitHub\\\\react-study\\\\callbus_lab\\\\src\\\\components\\\\Header.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef } from 'react';\nimport '../styles/Header.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Header() {\n  _s();\n\n  const CATEGORIES = [{\n    categoryPk: 1,\n    categoryCode: 'PETITION',\n    categoryName: '대선청원'\n  }, {\n    categoryPk: 2,\n    categoryCode: 'FREE',\n    categoryName: '자유글'\n  }, {\n    categoryPk: 3,\n    categoryCode: 'QNA',\n    categoryName: '질문/답변'\n  }, {\n    categoryPk: 4,\n    categoryCode: 'NEWS',\n    categoryName: '뉴스'\n  }, {\n    categoryPk: 5,\n    categoryCode: 'TIP',\n    categoryName: '노하우'\n  }];\n  const scrollRef = useRef(null);\n  const [isDrag, setIsDrag] = useState(false);\n  const [startX, setStartX] = useState();\n\n  const onDragStart = e => {\n    e.preventDefault();\n    setIsDrag(true);\n    setStartX(e.pageX + scrollRef.current.scrollLeft);\n  };\n\n  const onDragEnd = () => {\n    setIsDrag(false);\n  };\n\n  const onDragMove = e => {\n    console.log(e);\n\n    if (isDrag) {\n      const {\n        scrollWidth,\n        clientWidth,\n        scrollLeft\n      } = scrollRef.current;\n      scrollRef.current.scrollLeft = startX - e.pageX;\n\n      if (scrollLeft === 0) {\n        setStartX(e.pageX);\n      } else if (scrollWidth <= clientWidth + scrollLeft) {\n        setStartX(e.pageX + scrollLeft);\n      }\n    }\n  };\n\n  const throttle = (func, ms) => {\n    let throttled = false;\n    return function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      if (!throttled) {\n        throttled = true;\n        setTimeout(() => {\n          func(...args);\n          throttled = false;\n        }, ms);\n      }\n    };\n  };\n\n  const delay = 100;\n  const onThrottleDragMove = throttle(onDragMove, delay);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"title\",\n        children: \"\\uCEE4\\uBBA4\\uB2C8\\uD2F0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"category\",\n        onMouseDown: onDragStart,\n        onMouseMove: isDrag ? onThrottleDragMove : null,\n        onMouseUp: onDragEnd,\n        onMouseLeave: onDragEnd,\n        ref: scrollRef,\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: \"\\uC804\\uCCB4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"star\",\n            alt: \"star\",\n            src: \"imgs/star.png\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }, this), \"\\uC778\\uAE30\\uAE00\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: CATEGORIES[0].categoryName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: CATEGORIES[1].categoryName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: CATEGORIES[2].categoryName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: CATEGORIES[3].categoryName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: CATEGORIES[4].categoryName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"write-button\",\n        children: [\"\\uAE00\\uC4F0\\uAE30\", /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"write\",\n          alt: \"write\",\n          src: \"imgs/write.png\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Header, \"rDmiL7IdI3NiBffptx0QZGViUZ8=\");\n\n_c = Header;\nexport default Header;\n\nvar _c;\n\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"names":["React","useState","useRef","Header","CATEGORIES","categoryPk","categoryCode","categoryName","scrollRef","isDrag","setIsDrag","startX","setStartX","onDragStart","e","preventDefault","pageX","current","scrollLeft","onDragEnd","onDragMove","console","log","scrollWidth","clientWidth","throttle","func","ms","throttled","args","setTimeout","delay","onThrottleDragMove"],"sources":["C:/Users/user/Documents/GitHub/react-study/callbus_lab/src/components/Header.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\r\nimport '../styles/Header.scss';\r\n\r\nfunction Header(){\r\n    const CATEGORIES = [\r\n        {\r\n            categoryPk: 1,\r\n            categoryCode: 'PETITION',\r\n            categoryName: '대선청원'\r\n        },\r\n        {\r\n            categoryPk: 2,\r\n            categoryCode: 'FREE',\r\n            categoryName: '자유글'\r\n        },\r\n        {\r\n            categoryPk: 3,\r\n            categoryCode: 'QNA',\r\n            categoryName: '질문/답변'\r\n        },\r\n        {\r\n            categoryPk: 4,\r\n            categoryCode: 'NEWS',\r\n            categoryName: '뉴스'\r\n        },\r\n        {\r\n            categoryPk: 5,\r\n            categoryCode: 'TIP',\r\n            categoryName: '노하우'\r\n        }\r\n    ]\r\n    const scrollRef = useRef(null);\r\n    const [isDrag, setIsDrag] = useState(false);\r\n    const [startX, setStartX] = useState();\r\n    const onDragStart = (e) => {\r\n        e.preventDefault();\r\n        setIsDrag(true);\r\n        setStartX(e.pageX + scrollRef.current.scrollLeft);\r\n    };\r\n\r\n    const onDragEnd = () => {\r\n        setIsDrag(false);\r\n    };\r\n\r\n    const onDragMove = (e) => {\r\n        console.log(e);\r\n    if (isDrag) {\r\n      const { scrollWidth, clientWidth, scrollLeft } = scrollRef.current;\r\n      scrollRef.current.scrollLeft = startX - e.pageX;\r\n  \r\n      if (scrollLeft === 0) {\r\n        setStartX(e.pageX);\r\n      } else if (scrollWidth <= clientWidth + scrollLeft) {\r\n        setStartX(e.pageX + scrollLeft);\r\n      }\r\n    }\r\n  };\r\n  const throttle = (func, ms) => {\r\n    let throttled = false;\r\n    return (...args) => {\r\n      if (!throttled) {\r\n        throttled = true;\r\n        setTimeout(() => {\r\n          func(...args);\r\n          throttled = false;\r\n        }, ms);\r\n      }\r\n    };\r\n  };\r\n  const delay = 100;\r\n  const onThrottleDragMove = throttle(onDragMove, delay);\r\n    return(\r\n        <div>\r\n            <div>\r\n                <div className=\"title\">커뮤니티</div>\r\n                <ul className=\"category\" \r\n                onMouseDown={onDragStart}\r\n                onMouseMove={isDrag ? onThrottleDragMove : null}\r\n                onMouseUp={onDragEnd}\r\n                onMouseLeave={onDragEnd}\r\n                ref={scrollRef}>\r\n                    <li>전체</li>\r\n                    <li>\r\n                        <img className=\"star\" alt=\"star\" src=\"imgs/star.png\" />\r\n                         인기글\r\n                    </li>\r\n                    <li>{CATEGORIES[0].categoryName}</li>\r\n                    <li>{CATEGORIES[1].categoryName}</li>\r\n                    <li>{CATEGORIES[2].categoryName}</li>\r\n                    <li>{CATEGORIES[3].categoryName}</li>\r\n                    <li>{CATEGORIES[4].categoryName}</li>\r\n                </ul>\r\n                <div className=\"write-button\">\r\n                    글쓰기\r\n                    <img className=\"write\" alt=\"write\" src=\"imgs/write.png\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Header;"],"mappings":"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"},"metadata":{},"sourceType":"module"}